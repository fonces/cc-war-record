---
applyTo: '**'
---

# GitHub Copilot コミットメッセージ生成指示

## 基本方針とフォーマット

### 必須フォーマット

```
[prefix] <明確で簡潔な日本語説明>

- <変更内容の詳細>
```

### プレフィックス分類と選択基準

#### 機能・実装系

- **`[add]`**: 新機能、新ファイル、新エンドポイント追加
- **`[update]`**: 既存機能の改良、仕様変更、設定更新
- **`[fix]`**: バグ修正、問題解決、エラー対応

#### コード品質系

- **`[refactor]`**: コード構造改善
- **`[clean]`**: 不要コード削除、import整理、フォーマット適用
- **`[test]`**: テストコード追加、テスト修正、カバレッジ向上

#### ドキュメント・環境系

- **`[docs]`**: ドキュメント作成・更新、README修正
- **`[chore]`**: ビルド設定、依存関係更新、環境設定

### 自動選択アルゴリズム

#### 判断優先順位

1. **問題解決**: エラー修正、バグ対応 → `[fix]`
2. **新規追加**: 新機能、新ファイル → `[add]`
3. **機能改良**: 既存改善、仕様変更 → `[update]`
4. **構造変更**: アーキテクチャ変更 → `[refactor]`
5. **コード整理**: 削除、クリーンアップ → `[clean]`
6. **テスト関連**: テストファイル変更 → `[test]`
7. **ドキュメント**: .md, README変更 → `[docs]`
8. **環境設定**: Makefile, package.json → `[chore]`

#### 複数変更時の判断

主要な目的・影響度の大きい変更でプレフィックスを決定：

- 新機能追加 + テスト → `[add]` （メイン目的）
- バグ修正 + リファクタ → `[fix]` （問題解決優先）
- ドキュメント + 設定変更 → 主要変更で判断

## 説明文作成指針

### 日本語必須・文体統一

- 必ず日本語で記述
- 敬語ではなく簡潔な表現
- 動詞で開始（「追加する」ではなく「追加」）
- 50文字以内推奨、最大70文字

### 具体性・明確性

- 何を変更したか具体的に記述
- 曖昧な表現回避（「機能追加」→「商品検索機能を追加」）
- 影響範囲明示（「全体的に」→「API層のエラーハンドリングを」）
- 技術用語使用OK（適切な専門用語で簡潔に）

### ファイル別推奨パターン

#### 機能実装

- Components: `[add] Switchコンポーネントを作成`
- Views: `[add] テーブル一覧のビューを追加`
- Store: `[add] テーブル一覧のVuexストアを追加`

#### バグ修正

- `[fix] API呼び出しのエラーハンドリングを修正`
- `[fix] SPテーブル一覧の予約検索条件を修正`
- `[fix] コンポーネントのスタイルを修正`

#### リファクタリング

- `[refactor] コンポーネントを機能ごとに分割`
- `[refactor] date-fnsのバージョンを更新`
- `[refactor] コードの可読性を改善`

## 良い例・悪い例

### ✅ 良い例

```
[add] 在庫アイテム検索APIエンドポイントを追加
[fix] EventBridge統合時のJSON解析エラーを修正
[update] 商品価格計算ロジックに税率対応を追加
[refactor] ログ出力を構造化ログ（slog）に統一
[clean] 未使用のimportとdeprecated関数を削除
[test] アイテムService層の単体テストを追加
[docs] API仕様書にレスポンス例を追加
[chore] Makefileにlintチェックターゲットを追加
```

### ❌ 悪い例

```
feat: add new feature                 # 英語・曖昧
[fix]: bug fix                        # コロン使用・曖昧
[add/update] 機能を追加・更新          # 複数プレフィックス
[add] 機能を追加しました              # 敬語使用
[update] いろいろ修正                 # 曖昧すぎる
modify some files                     # プレフィックスなし・英語
[refactor] コードをきれいにした        # 口語的表現
```

## 自動生成時の検証項目

1. **プレフィックス適切性**: 変更内容と一致しているか
2. **日本語表記**: 英語表現が混入していないか
3. **文字数制限**: 50文字以内の簡潔さを保っているか
4. **具体性**: 何を変更したか明確に表現されているか
5. **重複回避**: 同じ内容の過去コミットと重複していないか