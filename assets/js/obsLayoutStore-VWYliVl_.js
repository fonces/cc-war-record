import{h as e}from"./vendor-CfpF3efx.js";import{r as t}from"./vendor-react-Dqtmilgm.js";var n=[{id:`winCount`,type:`winCount`,position:{x:50,y:50},visible:!0},{id:`loseCount`,type:`loseCount`,position:{x:50,y:150},visible:!0},{id:`winRate`,type:`winRate`,position:{x:50,y:250},visible:!0},{id:`totalMatches`,type:`totalMatches`,position:{x:50,y:350},visible:!0}],r={width:1920,height:1080,preset:`1920x1080`},i=50,a=e=>{let t={elements:e.elements,screenSize:e.screenSize},n=[...e.history.slice(0,e.historyIndex+1),t].slice(-i);return{history:n,historyIndex:n.length-1}};const o=t()(e((e,t)=>({elements:n,editMode:!0,selectedElementId:null,selectedElementIds:[],editingElementId:null,screenSize:r,history:[{elements:n,screenSize:r}],historyIndex:0,obsRecordingStartTime:null,updateElementPosition:(t,n)=>e(e=>{let r={elements:e.elements.map(e=>e.id===t?{...e,position:n}:e)};return{...r,...a({...e,...r})}}),updateElementSize:(t,n)=>e(e=>{let r={elements:e.elements.map(e=>e.id===t?{...e,size:n}:e)};return{...r,...a({...e,...r})}}),updateElement:(t,n)=>e(e=>{let r={elements:e.elements.map(e=>e.id===t?{...e,...n}:e)};return{...r,...a({...e,...r})}}),toggleEditMode:()=>e(e=>({editMode:!e.editMode})),resetLayout:()=>e(e=>{let t={elements:n};return{...t,...a({...e,...t})}}),selectElement:t=>e({selectedElementId:t,selectedElementIds:t?[t]:[]}),toggleSelectElement:t=>e(e=>{if(e.selectedElementIds.includes(t)){let n=e.selectedElementIds.filter(e=>e!==t);return{selectedElementIds:n,selectedElementId:n.length>0?n[0]:null}}else return{selectedElementIds:[...e.selectedElementIds,t],selectedElementId:t}}),clearSelection:()=>e({selectedElementId:null,selectedElementIds:[]}),updateSelectedElementsPosition:(t,n)=>e(e=>{let r={elements:e.elements.map(r=>e.selectedElementIds.includes(r.id)?{...r,position:{x:r.position.x+t,y:r.position.y+n}}:r)};return{...r,...a({...e,...r})}}),setEditingElement:t=>e({editingElementId:t}),addElement:t=>e(e=>{let n={elements:[...e.elements,t]};return{...n,...a({...e,...n})}}),removeElement:t=>e(e=>{let n={elements:e.elements.filter(e=>e.id!==t),selectedElementId:e.selectedElementId===t?null:e.selectedElementId,selectedElementIds:e.selectedElementIds.filter(e=>e!==t),editingElementId:e.editingElementId===t?null:e.editingElementId};return{...n,...a({...e,...n})}}),moveElement:(t,n)=>e(e=>{let r=e.elements.findIndex(e=>e.id===t);if(r===-1||r===n)return e;let i=[...e.elements],[o]=i.splice(r,1);i.splice(n,0,o);let s={elements:i};return{...s,...a({...e,...s})}}),setElements:t=>e(e=>{let n={elements:t,selectedElementId:null,selectedElementIds:[],editingElementId:null};return{...n,...a({...e,...n})}}),setScreenSize:t=>e({screenSize:t}),startObsRecording:()=>e({obsRecordingStartTime:new Date().toISOString()}),stopObsRecording:()=>e({obsRecordingStartTime:null}),undo:()=>e(e=>{if(e.historyIndex<=0)return e;let t=e.historyIndex-1,n=e.history[t];return{elements:n.elements,screenSize:n.screenSize,historyIndex:t}}),redo:()=>e(e=>{if(e.historyIndex>=e.history.length-1)return e;let t=e.historyIndex+1,n=e.history[t];return{elements:n.elements,screenSize:n.screenSize,historyIndex:t}}),canUndo:()=>t().historyIndex>0,canRedo:()=>{let e=t();return e.historyIndex<e.history.length-1}}),{name:`obs-layout-storage`}));export{o as t};