# ダークモード対応完了

## 実装内容

プロジェクト全体にダークモード対応を実装しました。

### 主な変更点

#### 1. テーマシステムの拡張 (`src/styles/theme.ts`)

- `lightTheme`: ライトモード用のカラースキーム
- `darkTheme`: ダークモード用のカラースキーム
- セマンティックカラー追加:
  - `background`, `backgroundSecondary`
  - `surface`, `surfaceHover`
  - `border`, `borderLight`
  - `text`, `textSecondary`, `textTertiary`

#### 2. テーマ切り替え機能

- **Hook**: `useThemeMode` - テーマ状態管理とLocalStorage永続化
- **Context**: `ThemeModeContext` - アプリ全体でのテーマ共有
- **Provider**: `AppProvider` - テーマの動的切り替え

#### 3. UI コンポーネント

- **ThemeToggle**: 月/太陽アイコン付きトグルボタン
  - ヘッダー(モバイル)とサイドバーに配置
  - ホバー時の回転アニメーション
  - Glassmorphismスタイル

#### 4. コンポーネント更新

- `Sidebar`: テーマカラーを動的に適用
- `MobileHeader`: テーマカラーを動的に適用
- `ChartContainer`: テーマカラーを動的に適用
- `GlobalStyle`: ダークモード背景グラデーション対応

### 使い方

#### テーマの切り替え

1. **ヘッダー**(モバイル): 右上の月/太陽アイコンをクリック
2. **サイドバー**(デスクトップ): 下部の月/太陽アイコンをクリック

#### 自動保存

- 選択したテーマはLocalStorageに保存されます
- ページをリロードしても設定が維持されます

### 技術仕様

```typescript
// テーマモード型
type ThemeMode = "light" | "dark";

// テーマ切り替えフック
const { mode, toggleMode, setMode } = useThemeMode();

// 使用例
<ThemeToggle /> // 自動的に現在のテーマを表示・切り替え
```

### デザイン特徴

#### ライトモード

- 背景: 白〜淡いパープルグラデーション
- サーフェス: 半透明の白 (rgba(255, 255, 255, 0.95))
- テキスト: ダークグレー (#111827)

#### ダークモード

- 背景: ダークグレーグラデーション (#0a0a0b 〜 #27272a)
- サーフェス: 半透明のダークグレー (rgba(24, 24, 27, 0.95))
- テキスト: 明るいグレー (#fafafa)

### アニメーション

- テーマ切り替え時: 0.3秒のスムーズなトランジション
- ボタンホバー: 回転アニメーション (360度)
- 背景色: フェードトランジション

### アクセシビリティ

- `aria-label`: トグルボタンに適切なラベル
- `title`: ホバー時のツールチップ
- キーボード操作: 全てのボタンがフォーカス可能

## 確認方法

1. 開発サーバーを起動: `npm run dev`
2. ブラウザでアクセス: `http://localhost:5174`
3. ヘッダーまたはサイドバーの月/太陽アイコンをクリック
4. テーマが即座に切り替わることを確認

## 今後の拡張

- システムの設定に従う自動切り替え機能
- テーマごとのカスタムアクセントカラー
- カラーブラインド対応モード
